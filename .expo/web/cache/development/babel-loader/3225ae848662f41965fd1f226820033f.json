{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Carousel from \"./carosel\";\nimport { Card } from \"./Card\";\nvar win = Dimensions.get('window');\nexport var CarouselComponent = function CarouselComponent(_ref) {\n  var layout = _ref.layout,\n      data = _ref.data;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeIndex = _useState2[0],\n      setActiveIndex = _useState2[1];\n\n  var _useState3 = useState(data),\n      _useState4 = _slicedToArray(_useState3, 2),\n      realdata = _useState4[0],\n      setRealdata = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      fakerstate = _useState6[0],\n      setFakerstate = _useState6[1];\n\n  var _useState7 = useState({\n    sliderWidth: win.width - 40,\n    itemWidth: win.width - 60\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      carouselStyle = _useState8[0],\n      setCarouselStyle = _useState8[1];\n\n  var carouselEl = useRef(null);\n  useEffect(function () {\n    console.log(\"data\", data);\n    setRealdata(data);\n    layout != 'default' ? setCarouselStyle({\n      sliderWidth: win.width - 25,\n      itemWidth: win.width - 50\n    }) : setCarouselStyle({\n      sliderWidth: win.width - 40,\n      itemWidth: win.width - 60\n    });\n  }, [data]);\n\n  var handleSnapToItem = function handleSnapToItem(index) {\n    setActiveIndex(index);\n  };\n\n  var decline = function decline() {\n    setFakerstate(false);\n  };\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item,\n        index = _ref2.index;\n    return layout == 'default' ? React.createElement(Card, {\n      key: index,\n      type: layout,\n      id: item.id,\n      image: item,\n      title: item.title,\n      address: item.address,\n      bedroom: item.numBed,\n      bathroom: item.numBath,\n      checked: item.checked\n    }) : React.createElement(Card, {\n      key: index,\n      type: layout,\n      id: item.id,\n      image: item.photosUrl[0],\n      title: item.title,\n      address: item.address,\n      bedroom: item.numBed,\n      bathroom: item.numBath,\n      checked: item.checked\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: \"center\",\n      marginBottom: 30\n    }\n  }, React.createElement(View, null, fakerstate ? React.createElement(Carousel, {\n    autoplay: layout == 'default' ? true : false,\n    loop: layout == 'default' ? true : false,\n    layout: layout,\n    ref: carouselEl,\n    data: realdata,\n    sliderWidth: carouselStyle.sliderWidth,\n    itemWidth: carouselStyle.itemWidth,\n    renderItem: renderItem,\n    onSnapToItem: function onSnapToItem(index) {\n      return handleSnapToItem(index);\n    },\n    layoutCardOffset: 18,\n    inactiveSlideScale: 0.94,\n    inactiveSlideOpacity: 0.7,\n    initialNumToRender: 3\n  }) : React.createElement(React.Fragment, null, React.createElement(Image, {\n    style: [styles.image, {\n      height: win.width - 90,\n      width: win.width - 70\n    }],\n    source: {\n      uri: realdata[activeIndex].photosUrl[0]\n    }\n  }))), React.createElement(View, {\n    style: {\n      flex: 4,\n      justifyContent: 'center',\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    }\n  }, React.createElement(View, {\n    style: {\n      width: (Dimensions.get('window').height - 40) * 9 / 37,\n      flexDirection: 'row'\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      marginRight: 'auto'\n    },\n    onPress: function onPress() {\n      return decline();\n    }\n  }, React.createElement(Image, {\n    style: styles.swip_icon,\n    source: require(\"../assets/icons/dislike_icon.png\")\n  })), React.createElement(TouchableOpacity, {\n    style: {\n      marginLeft: 'auto'\n    },\n    onPress: function onPress() {\n      console.log(\"I like it.\");\n    }\n  }, React.createElement(Image, {\n    style: styles.swip_icon_1,\n    source: require(\"../assets/icons/like_icon.png\")\n  })))), React.createElement(View, {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      flex: 1\n    }\n  }));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\"\n  },\n  swip_icon: {\n    width: (Dimensions.get('window').height - 40) * 3 / 37,\n    height: (Dimensions.get('window').height - 40) * 3 / 37\n  },\n  swip_icon_1: {\n    width: (Dimensions.get('window').height - 40) * 3 / 37,\n    height: (Dimensions.get('window').height - 40) * 3 / 37,\n    marginLeft: 'auto'\n  },\n  image: {\n    flex: 1,\n    borderRadius: 20,\n    width: win.width - 80\n  }\n});","map":{"version":3,"sources":["D:/Tasks/Freelancer/Danil/ReactNative/mine/pearl/map/components/Carousel.tsx"],"names":["React","useState","useRef","useEffect","Carousel","Card","win","Dimensions","get","CarouselComponent","layout","data","activeIndex","setActiveIndex","realdata","setRealdata","fakerstate","setFakerstate","sliderWidth","width","itemWidth","carouselStyle","setCarouselStyle","carouselEl","console","log","handleSnapToItem","index","decline","renderItem","item","id","title","address","numBed","numBath","checked","photosUrl","flex","alignItems","marginBottom","styles","image","height","uri","justifyContent","marginLeft","marginRight","flexDirection","swip_icon","require","swip_icon_1","display","StyleSheet","create","container","borderRadius"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { View, TouchableOpacity, Image, Dimensions, StyleSheet, ScrollView } from \"react-native\";\r\n\r\n// import Carousel from \"react-native-snap-carousel\";\r\nimport Carousel from \"./carosel\";\r\n// import { DATA } from \"../utils\";\r\nimport { CardProps, Card } from \"./Card\";\r\nconst win = Dimensions.get('window');\r\n\r\ntype LayoutProps = { layout?: \"default\" | \"stack\" | \"tinder\" | undefined };\r\n\r\nexport const CarouselComponent = ({ layout, data }: { layout: any, data: any }) => {\r\n  const [activeIndex, setActiveIndex] = useState<number>(0);\r\n  const [realdata, setRealdata] = useState<any>(data);\r\n  const [fakerstate, setFakerstate] = useState<boolean>(true);\r\n  const [carouselStyle, setCarouselStyle] = useState<any>({ sliderWidth: win.width - 40, itemWidth: win.width - 60 });\r\n  const carouselEl = useRef(null);\r\n  useEffect(() => {\r\n    console.log(\"data\", data)\r\n    setRealdata(data);\r\n    layout != 'default' ? setCarouselStyle({ sliderWidth: win.width - 25, itemWidth: win.width - 50 }) : setCarouselStyle({ sliderWidth: win.width - 40, itemWidth: win.width - 60 })\r\n  }, [data]);\r\n\r\n  const handleSnapToItem = (index: number) => {\r\n    setActiveIndex(index);\r\n  };\r\n\r\n  const decline = () => {\r\n    setFakerstate(false);\r\n    // realdata.splice(activeIndex, 1);\r\n    // setRealdata([...realdata]);\r\n  }\r\n\r\n  const renderItem = ({ item, index }: { item: CardProps; index: number }) => {\r\n\r\n    return layout == 'default' ?\r\n      <Card key={index} type={layout} id={item.id} image={item} title={item.title} address={item.address} bedroom={item.numBed} bathroom={item.numBath} checked={item.checked} /> : (\r\n        <Card key={index} type={layout} id={item.id} image={item.photosUrl[0]} title={item.title} address={item.address} bedroom={item.numBed} bathroom={item.numBath} checked={item.checked} />\r\n      );\r\n  }\r\n\r\n  return (\r\n    <View style={{ flex: 1, alignItems: \"center\", marginBottom: 30 }}>\r\n      {/* <ScrollView> */}\r\n      <View >\r\n        {\r\n          fakerstate ?\r\n            <Carousel\r\n              autoplay={layout == 'default' ? true : false}\r\n              loop={layout == 'default' ? true : false}\r\n              layout={layout}\r\n              ref={carouselEl}\r\n              data={realdata}\r\n              sliderWidth={carouselStyle.sliderWidth}\r\n              itemWidth={carouselStyle.itemWidth}\r\n              renderItem={renderItem}\r\n              onSnapToItem={(index: number) => handleSnapToItem(index)}\r\n              layoutCardOffset={18}\r\n              inactiveSlideScale={0.94}\r\n              inactiveSlideOpacity={0.7}\r\n              initialNumToRender={3}\r\n            /> :\r\n            <>\r\n              <Image style={[styles.image, { height: win.width - 90, width: win.width - 70 }]} source={{ uri: realdata[activeIndex].photosUrl[0] }} />\r\n            </>\r\n        }\r\n\r\n      </View>\r\n      <View style={{ flex: 4, justifyContent: 'center', marginLeft: 'auto', marginRight: 'auto' }}>\r\n        <View style={{ width: (Dimensions.get('window').height - 40) * 9 / 37, flexDirection: 'row', }}>\r\n          <TouchableOpacity style={{ marginRight: 'auto' }} onPress={() => decline()}>\r\n            <Image style={styles.swip_icon} source={require('../assets/icons/dislike_icon.png')} />\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={{ marginLeft: 'auto' }} onPress={() => { console.log(\"I like it.\") }}>\r\n            <Image style={styles.swip_icon_1} source={require('../assets/icons/like_icon.png')} />\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n\r\n      <View style={{ display: 'flex', alignItems: 'center', flex: 1 }}></View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  swip_icon: {\r\n    width: (Dimensions.get('window').height - 40) * 3 / 37,\r\n    height: (Dimensions.get('window').height - 40) * 3 / 37,\r\n  },\r\n\r\n  swip_icon_1: {\r\n    width: (Dimensions.get('window').height - 40) * 3 / 37,\r\n    height: (Dimensions.get('window').height - 40) * 3 / 37,\r\n    marginLeft: 'auto'\r\n  },\r\n\r\n  image: {\r\n    flex: 1,\r\n    borderRadius: 20,\r\n    width: win.width - 80,\r\n  },\r\n});\r\n\r\n"]},"metadata":{},"sourceType":"module"}